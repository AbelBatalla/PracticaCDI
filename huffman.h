#ifndef HUFFMAN_H
#define HUFFMAN_H

#include <iostream>
#include <fstream>
#include <map>
#include <string>
#include <vector>


using namespace std;

class Huffman
{
    private:
        int count = 10;
        int numberOfChars = 4;
        bool needsEncoded = true;
        map<vector<bool>, string> decoder = {{{1,1,1,1,1,1,1,1,1,1,1,1,0,0},"A"}, {{0,0,0,0,0,0},"AAAA"}, {{0,0,0,0,1,0,0},"AAAC"}, {{0,0,0,0,1,0,1},"AAAG"}, {{0,0,0,0,1,1,0},"AAAT"}, {{0,0,0,0,1,1,1},"AACA"}, {{0,1,0,1,1,1,0,0},"AACC"}, {{1,1,1,1,0,1,0,0,1,0},"AACG"}, {{0,1,0,1,1,1,0,1},"AACT"}, {{0,0,0,1,0,0,0},"AAGA"}, {{0,1,0,1,1,1,1,0},"AAGC"}, {{0,1,0,1,1,1,1,1},"AAGG"}, {{0,1,1,0,0,0,0,0},"AAGT"}, {{0,0,0,1,0,0,1},"AATA"}, {{0,1,1,0,0,0,0,1},"AATC"}, {{0,0,0,1,0,1,0},"AATG"}, {{0,0,0,1,0,1,1},"AATT"}, {{0,0,0,1,1,0,0},"ACAA"}, {{0,1,1,0,0,0,1,0},"ACAC"}, {{0,1,1,0,0,0,1,1},"ACAG"}, {{0,0,0,1,1,0,1},"ACAT"}, {{0,1,1,0,0,1,0,0},"ACCA"}, {{1,1,1,0,1,0,0,0,0},"ACCC"}, {{1,1,1,1,0,1,0,0,1,1},"ACCG"}, {{0,1,1,0,0,1,0,1},"ACCT"}, {{1,1,1,1,0,1,0,1,0,0},"ACGA"}, {{1,1,1,1,0,1,0,1,0,1},"ACGC"}, {{1,1,1,1,0,1,0,1,1,0},"ACGG"}, {{1,1,1,1,0,1,0,1,1,1},"ACGT"}, {{0,1,1,0,0,1,1,0},"ACTA"}, {{0,1,1,0,0,1,1,1},"ACTC"}, {{0,1,1,0,1,0,0,0},"ACTG"}, {{0,1,1,0,1,0,0,1},"ACTT"}, {{0,0,0,1,1,1,0},"AGAA"}, {{0,1,1,0,1,0,1,0},"AGAC"}, {{0,1,1,0,1,0,1,1},"AGAG"}, {{0,1,1,0,1,1,0,0},"AGAT"}, {{0,1,1,0,1,1,0,1},"AGCA"}, {{0,1,1,0,1,1,1,0},"AGCC"}, {{1,1,1,1,0,1,1,0,0,0},"AGCG"}, {{0,1,1,0,1,1,1,1},"AGCT"}, {{0,1,1,1,0,0,0,0},"AGGA"}, {{0,1,1,1,0,0,0,1},"AGGC"}, {{0,1,1,1,0,0,1,0},"AGGG"}, {{0,1,1,1,0,0,1,1},"AGGT"}, {{0,1,1,1,0,1,0,0},"AGTA"}, {{0,1,1,1,0,1,0,1},"AGTC"}, {{0,1,1,1,0,1,1,0},"AGTG"}, {{0,1,1,1,0,1,1,1},"AGTT"}, {{0,0,0,1,1,1,1},"ATAA"}, {{0,1,1,1,1,0,0,0},"ATAC"}, {{0,1,1,1,1,0,0,1},"ATAG"}, {{0,0,1,0,0,0,0},"ATAT"}, {{0,1,1,1,1,0,1,0},"ATCA"}, {{0,1,1,1,1,0,1,1},"ATCC"}, {{1,1,1,1,0,1,1,0,0,1},"ATCG"}, {{0,1,1,1,1,1,0,0},"ATCT"}, {{0,0,1,0,0,0,1},"ATGA"}, {{0,1,1,1,1,1,0,1},"ATGC"}, {{0,1,1,1,1,1,1,0},"ATGG"}, {{0,0,1,0,0,1,0},"ATGT"}, {{0,0,1,0,0,1,1},"ATTA"}, {{0,1,1,1,1,1,1,1},"ATTC"}, {{1,0,0,0,0,0,0,0},"ATTG"}, {{0,0,1,0,1,0,0},"ATTT"}, {{1,1,1,1,1,1,1,1,1,1,1,1,0,1},"C"}, {{0,0,1,0,1,0,1},"CAAA"}, {{1,0,0,0,0,0,0,1},"CAAC"}, {{1,0,0,0,0,0,1,0},"CAAG"}, {{1,0,0,0,0,0,1,1},"CAAT"}, {{0,0,1,0,1,1,0},"CACA"}, {{1,0,0,0,0,1,0,0},"CACC"}, {{1,1,1,1,0,1,1,0,1,0},"CACG"}, {{1,0,0,0,0,1,0,1},"CACT"}, {{1,0,0,0,0,1,1,0},"CAGA"}, {{1,0,0,0,0,1,1,1},"CAGC"}, {{1,0,0,0,1,0,0,0},"CAGG"}, {{1,0,0,0,1,0,0,1},"CAGT"}, {{1,0,0,0,1,0,1,0},"CATA"}, {{1,0,0,0,1,0,1,1},"CATC"}, {{1,0,0,0,1,1,0,0},"CATG"}, {{0,0,1,0,1,1,1},"CATT"}, {{1,0,0,0,1,1,0,1},"CCAA"}, {{1,0,0,0,1,1,1,0},"CCAC"}, {{1,0,0,0,1,1,1,1},"CCAG"}, {{1,0,0,1,0,0,0,0},"CCAT"}, {{1,0,0,1,0,0,0,1},"CCCA"}, {{1,1,1,0,1,0,0,0,1},"CCCC"}, {{1,1,1,1,0,1,1,0,1,1},"CCCG"}, {{1,0,0,1,0,0,1,0},"CCCT"}, {{1,1,1,1,0,1,1,1,0,0},"CCGA"}, {{1,1,1,1,0,1,1,1,0,1},"CCGC"}, {{1,1,1,1,0,1,1,1,1,0},"CCGG"}, {{1,1,1,1,0,1,1,1,1,1},"CCGT"}, {{1,1,1,0,1,0,0,1,0},"CCTA"}, {{1,0,0,1,0,0,1,1},"CCTC"}, {{1,0,0,1,0,1,0,0},"CCTG"}, {{1,0,0,1,0,1,0,1},"CCTT"}, {{1,1,1,1,1,0,0,0,0,0},"CGAA"}, {{1,1,1,1,1,0,0,0,0,1},"CGAC"}, {{1,1,1,1,1,0,0,0,1,0},"CGAG"}, {{1,1,1,1,1,0,0,0,1,1},"CGAT"}, {{1,1,1,1,1,0,0,1,0,0},"CGCA"}, {{1,1,1,1,1,0,0,1,0,1},"CGCC"}, {{1,1,1,1,1,1,1,1,1,1,1,0},"CGCG"}, {{1,1,1,1,1,0,0,1,1,0},"CGCT"}, {{1,1,1,1,1,0,0,1,1,1},"CGGA"}, {{1,1,1,1,1,0,1,0,0,0},"CGGC"}, {{1,1,1,1,1,0,1,0,0,1},"CGGG"}, {{1,1,1,1,1,0,1,0,1,0},"CGGT"}, {{1,1,1,1,1,1,1,1,1,1,0},"CGTA"}, {{1,1,1,1,1,0,1,0,1,1},"CGTC"}, {{1,1,1,1,1,0,1,1,0,0},"CGTG"}, {{1,1,1,1,1,0,1,1,0,1},"CGTT"}, {{1,0,0,1,0,1,1,0},"CTAA"}, {{1,1,1,0,1,0,0,1,1},"CTAC"}, {{1,1,1,0,1,0,1,0,0},"CTAG"}, {{1,0,0,1,0,1,1,1},"CTAT"}, {{1,0,0,1,1,0,0,0},"CTCA"}, {{1,0,0,1,1,0,0,1},"CTCC"}, {{1,1,1,1,1,0,1,1,1,0},"CTCG"}, {{1,0,0,1,1,0,1,0},"CTCT"}, {{1,0,0,1,1,0,1,1},"CTGA"}, {{1,0,0,1,1,1,0,0},"CTGC"}, {{1,0,0,1,1,1,0,1},"CTGG"}, {{1,0,0,1,1,1,1,0},"CTGT"}, {{1,0,0,1,1,1,1,1},"CTTA"}, {{1,0,1,0,0,0,0,0},"CTTC"}, {{1,0,1,0,0,0,0,1},"CTTG"}, {{0,0,1,1,0,0,0},"CTTT"}, {{1,1,1,1,1,1,1,1,1,1,1,1,1,0},"G"}, {{0,0,1,1,0,0,1},"GAAA"}, {{1,0,1,0,0,0,1,0},"GAAC"}, {{1,0,1,0,0,0,1,1},"GAAG"}, {{1,0,1,0,0,1,0,0},"GAAT"}, {{1,0,1,0,0,1,0,1},"GACA"}, {{1,1,1,0,1,0,1,0,1},"GACC"}, {{1,1,1,1,1,0,1,1,1,1},"GACG"}, {{1,0,1,0,0,1,1,0},"GACT"}, {{1,0,1,0,0,1,1,1},"GAGA"}, {{1,1,1,0,1,0,1,1,0},"GAGC"}, {{1,0,1,0,1,0,0,0},"GAGG"}, {{1,0,1,0,1,0,0,1},"GAGT"}, {{1,0,1,0,1,0,1,0},"GATA"}, {{1,1,1,0,1,0,1,1,1},"GATC"}, {{1,0,1,0,1,0,1,1},"GATG"}, {{1,0,1,0,1,1,0,0},"GATT"}, {{1,0,1,0,1,1,0,1},"GCAA"}, {{1,1,1,0,1,1,0,0,0},"GCAC"}, {{1,0,1,0,1,1,1,0},"GCAG"}, {{1,0,1,0,1,1,1,1},"GCAT"}, {{1,0,1,1,0,0,0,0},"GCCA"}, {{1,1,1,0,1,1,0,0,1},"GCCC"}, {{1,1,1,1,1,1,0,0,0,0},"GCCG"}, {{1,0,1,1,0,0,0,1},"GCCT"}, {{1,1,1,1,1,1,0,0,0,1},"GCGA"}, {{1,1,1,1,1,1,0,0,1,0},"GCGC"}, {{1,1,1,1,1,1,0,0,1,1},"GCGG"}, {{1,1,1,1,1,1,0,1,0,0},"GCGT"}, {{1,1,1,0,1,1,0,1,0},"GCTA"}, {{1,0,1,1,0,0,1,0},"GCTC"}, {{1,0,1,1,0,0,1,1},"GCTG"}, {{1,0,1,1,0,1,0,0},"GCTT"}, {{1,0,1,1,0,1,0,1},"GGAA"}, {{1,1,1,0,1,1,0,1,1},"GGAC"}, {{1,0,1,1,0,1,1,0},"GGAG"}, {{1,0,1,1,0,1,1,1},"GGAT"}, {{1,0,1,1,1,0,0,0},"GGCA"}, {{1,1,1,0,1,1,1,0,0},"GGCC"}, {{1,1,1,1,1,1,0,1,0,1},"GGCG"}, {{1,0,1,1,1,0,0,1},"GGCT"}, {{1,0,1,1,1,0,1,0},"GGGA"}, {{1,1,1,0,1,1,1,0,1},"GGGC"}, {{1,1,1,0,1,1,1,1,0},"GGGG"}, {{1,1,1,0,1,1,1,1,1},"GGGT"}, {{1,1,1,1,0,0,0,0,0},"GGTA"}, {{1,1,1,1,0,0,0,0,1},"GGTC"}, {{1,0,1,1,1,0,1,1},"GGTG"}, {{1,0,1,1,1,1,0,0},"GGTT"}, {{1,0,1,1,1,1,0,1},"GTAA"}, {{1,1,1,1,0,0,0,1,0},"GTAC"}, {{1,1,1,1,0,0,0,1,1},"GTAG"}, {{1,0,1,1,1,1,1,0},"GTAT"}, {{1,0,1,1,1,1,1,1},"GTCA"}, {{1,1,1,1,0,0,1,0,0},"GTCC"}, {{1,1,1,1,1,1,0,1,1,0},"GTCG"}, {{1,1,0,0,0,0,0,0},"GTCT"}, {{1,1,0,0,0,0,0,1},"GTGA"}, {{1,1,1,1,0,0,1,0,1},"GTGC"}, {{1,1,0,0,0,0,1,0},"GTGG"}, {{1,1,0,0,0,0,1,1},"GTGT"}, {{1,1,0,0,0,1,0,0},"GTTA"}, {{1,1,0,0,0,1,0,1},"GTTC"}, {{1,1,0,0,0,1,1,0},"GTTG"}, {{0,0,1,1,0,1,0},"GTTT"}, {{1,1,1,1,1,1,1,1,1,1,1,1,1,1},"T"}, {{0,0,1,1,0,1,1},"TAAA"}, {{1,1,0,0,0,1,1,1},"TAAC"}, {{1,1,0,0,1,0,0,0},"TAAG"}, {{0,0,1,1,1,0,0},"TAAT"}, {{1,1,0,0,1,0,0,1},"TACA"}, {{1,1,1,1,0,0,1,1,0},"TACC"}, {{1,1,1,1,1,1,0,1,1,1},"TACG"}, {{1,1,0,0,1,0,1,0},"TACT"}, {{1,1,0,0,1,0,1,1},"TAGA"}, {{1,1,1,1,0,0,1,1,1},"TAGC"}, {{1,1,1,1,0,1,0,0,0},"TAGG"}, {{1,1,0,0,1,1,0,0},"TAGT"}, {{0,0,1,1,1,0,1},"TATA"}, {{1,1,0,0,1,1,0,1},"TATC"}, {{1,1,0,0,1,1,1,0},"TATG"}, {{0,0,1,1,1,1,0},"TATT"}, {{0,0,1,1,1,1,1},"TCAA"}, {{1,1,0,0,1,1,1,1},"TCAC"}, {{1,1,0,1,0,0,0,0},"TCAG"}, {{0,1,0,0,0,0,0},"TCAT"}, {{1,1,0,1,0,0,0,1},"TCCA"}, {{1,1,0,1,0,0,1,0},"TCCC"}, {{1,1,1,1,1,1,1,0,0,0},"TCCG"}, {{1,1,0,1,0,0,1,1},"TCCT"}, {{1,1,1,1,1,1,1,0,0,1},"TCGA"}, {{1,1,1,1,1,1,1,0,1,0},"TCGC"}, {{1,1,1,1,1,1,1,0,1,1},"TCGG"}, {{1,1,1,1,1,1,1,1,0,0},"TCGT"}, {{1,1,0,1,0,1,0,0},"TCTA"}, {{1,1,0,1,0,1,0,1},"TCTC"}, {{1,1,0,1,0,1,1,0},"TCTG"}, {{0,1,0,0,0,0,1},"TCTT"}, {{0,1,0,0,0,1,0},"TGAA"}, {{1,1,0,1,0,1,1,1},"TGAC"}, {{1,1,0,1,1,0,0,0},"TGAG"}, {{1,1,0,1,1,0,0,1},"TGAT"}, {{1,1,0,1,1,0,1,0},"TGCA"}, {{1,1,0,1,1,0,1,1},"TGCC"}, {{1,1,1,1,1,1,1,1,0,1},"TGCG"}, {{1,1,0,1,1,1,0,0},"TGCT"}, {{1,1,0,1,1,1,0,1},"TGGA"}, {{1,1,0,1,1,1,1,0},"TGGC"}, {{1,1,0,1,1,1,1,1},"TGGG"}, {{1,1,1,0,0,0,0,0},"TGGT"}, {{1,1,1,0,0,0,0,1},"TGTA"}, {{1,1,1,0,0,0,1,0},"TGTC"}, {{0,1,0,0,0,1,1},"TGTG"}, {{0,1,0,0,1,0,0},"TGTT"}, {{0,1,0,0,1,0,1},"TTAA"}, {{1,1,1,0,0,0,1,1},"TTAC"}, {{1,1,1,0,0,1,0,0},"TTAG"}, {{0,1,0,0,1,1,0},"TTAT"}, {{0,1,0,0,1,1,1},"TTCA"}, {{1,1,1,0,0,1,0,1},"TTCC"}, {{1,1,1,1,1,1,1,1,1,0},"TTCG"}, {{0,1,0,1,0,0,0},"TTCT"}, {{0,1,0,1,0,0,1},"TTGA"}, {{1,1,1,0,0,1,1,0},"TTGC"}, {{1,1,1,0,0,1,1,1},"TTGG"}, {{0,1,0,1,0,1,0},"TTGT"}, {{0,1,0,1,0,1,1},"TTTA"}, {{0,1,0,1,1,0,0},"TTTC"}, {{0,1,0,1,1,0,1},"TTTG"}, {{0,0,0,0,0,1},"TTTT"}};

        map<string,vector<bool>> encoder;
        map<string,vector<bool>> invertMap(const map<vector<bool>, string>& inputMap);
        string toBinary(int n);

    public:
        Huffman(){};

        void encode(ifstream& input, ofstream& output);

        void decode(ifstream& input, ofstream& output);
};

#endif